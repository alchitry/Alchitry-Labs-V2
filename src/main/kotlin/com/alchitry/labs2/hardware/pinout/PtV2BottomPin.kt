package com.alchitry.labs2.hardware.pinout

import com.alchitry.labs2.parsers.acf.types.Artix7IoStandard

enum class PtV2BottomPin(override val fpgaPin: String, override val bank: Int) : Pin {
    A3("AB1", 34),
    A5("AA1", 34),
    A9("D16", 16),
    A11("E16", 16),
    A15("A19", 16),
    A17("A18", 16),
    A21("C20", 16),
    A23("D20", 16),
    A27("B22", 16),
    A29("C22", 16),
    A33("B13", 16),
    A35("C13", 16),
    A39("C17", 16),
    A41("D17", 16),
    A45("C19", 16),
    A47("C18", 16),
    A51("F14", 16),
    A53("F13", 16),
    A57("E17", 16),
    A59("F16", 16),
    A63("E18", 16),
    A65("F18", 16),
    A69("G22", 16),
    A71("G21", 16),
    A75("D15", 16),
    A77("D14", 16),
    A4("AA3", 34),
    A6("Y3", 34),
    A10("A16", 16),
    A12("A15", 16),
    A16("A21", 16),
    A18("B21", 16),
    A22("D21", 16),
    A24("E21", 16),
    A28("D22", 16),
    A30("E22", 16),
    A34("A14", 16),
    A36("A13", 16),
    A40("B18", 16),
    A42("B17", 16),
    A46("D19", 16),
    A48("E19", 16),
    A52("B16", 16),
    A54("B15", 16),
    A58("F20", 16),
    A60("F19", 16),
    A64("A20", 16),
    A66("B20", 16),
    A70("C15", 16),
    A72("C14", 16),
    A76("E14", 16),
    A78("E13", 16),

    B3("Y2", 34),
    B5("W2", 34),
    B9("Y7", 34),
    B11("Y8", 34),
    B15("AA6", 34),
    B17("Y6", 34),
    B21("AB2", 34),
    B23("AB3", 34),
    B27("T6", 34),
    B29("R6", 34),
    B33("V8", 34),
    B35("V9", 34),
    B39("W4", 34),
    B41("V4", 34),
    B45("T4", 34),
    B47("R4", 34),
    B51("E10", 116),
    B53("F10", 116),
    B57("C7", 116),
    B59("D7", 116),
    B63("A6", 116),
    B65("B6", 116),
    B69("C5", 116),
    B71("D5", 116),
    B75("A4", 116),
    B77("B4", 116),
    B4("AB6", 34),
    B6("AB7", 34),
    B10("AB8", 34),
    B12("AA8", 34),
    B16("AB5", 34),
    B18("AA5", 34),
    B22("Y9", 34),
    B24("W9", 34),
    B28("W7", 34),
    B30("V7", 34),
    B34("V5", 34),
    B36("U6", 34),
    B40("AA4", 34),
    B42("Y4", 34),
    B46("U5", 34),
    B48("T5", 34),
    B52("E6", 116),
    B54("F6", 116),
    B58("C11", 116),
    B60("D11", 116),
    B64("A10", 116),
    B66("B10", 116),
    B70("C9", 116),
    B72("D9", 116),
    B76("A8", 116),
    B78("B8", 116),

    C29("U1", 34),
    C31("T1", 34),
    C33("R2", 34),
    C35("R3", 34),
    C30("W5", 34),
    C32("W6", 34),
    C34("V3", 34),
    C36("U3", 34);

    companion object : PinConverter {
        override val boardSide = BoardSide.BOTTOM
        override val version = ConverterVersion.V2
        override val standards = Artix7IoStandard.entries
        override fun acfToPin(name: String): PtV2BottomPin? = entries.firstOrNull { it.name == name }

        override fun bankToVcco(bank: Int): List<String> = when (bank) {
            0, 116 -> emptyList()
            15 -> listOf("1.35")
            14, 16, 34, 35 -> listOf("3.3")
            13 -> listOf("3.3", "2.5", "1.8")
            else -> error("Unknown bank: $bank")
        }
    }
}